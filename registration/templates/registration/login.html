{% extends 'core/layout.html' %}
{% load static %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load socialaccount %}

{% block title %}{% trans "Login" %}{% endblock title %}

{% block css %}
  <!--suppress CssReplaceWithShorthandSafely -->
  <style>
    #cover {
      background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.5)), url('{% static 'img/cover-min.png' %}');
      background-position: center top;
      background-repeat: no-repeat;
      background-size: cover;
    }

    /*
     * Because of the background image we need a different border and focus color
     */
    #loginForm input {
      border-color: var(--primary);
    }

    #loginForm input:focus {
      border-color: var(--extra);
    }
  </style>
{% endblock css %}

{% block breadcrumb %}
  {% include 'common/include/breadcrumb.html' with breadcrumbs='login' no_separation=True %}
{% endblock breadcrumb %}

{% block body_content %}
  <main class="container-fluid">

    <div id="cover" class="row min-vh-100 cover justify-content-lg-center">
      <!-- Presentation -->
      <div class="col-12 text-center py-3">
        <img height="250px" load="lazy" src="{% static 'img/oil_and_rope_logo_color_thin.svg' %}" alt="Oil & Rope Logo">
        <h2 class="display-3 text-white font-ds-bold">
          Oil &amp; Rope
        </h2>
        <small class="lead text-white">
          <em>&laquo;{{ slogan|default:"i'm rollin' it"|capfirst }}&raquo;</em>
        </small>
      </div>

      <!-- Form -->
      <div class="col-12 col-xl-6">
        <form method="post" action="{% url 'registration:login' %}" id="loginForm">
          {% crispy form %}
        </form>
        <div class="row justify-content-around mt-3">
          <a href="{% provider_login_url "google" %}" class="btn btn-lg bg-white col-10">
            {% trans "login with Google"|capfirst %}
          </a>
        </div>
        <div class="row justify-content-around mt-3 mt-md-5 mb-5">
          <a href="{% url 'registration:password_reset' %}">
            {% trans "forgot password?"|capfirst %}
          </a>
          <a href="{% url 'registration:resend_email' %}">
            {% trans "resend email"|capfirst %}
          </a>
        </div>
      </div>

      <!-- Join -->
      <div class="col-12 d-flex justify-content-around align-items-md-center justify-content-sm-center py-5 py-md-0">
        <p class="lead text-white mr-sm-3 mb-md-0">
          {% trans "don't have an account?"|capfirst %}
        </p>
        <a class="lead" href="{% url 'registration:register' %}">{% trans "join now"|capfirst %}!</a>
      </div>

      <!-- Arrow -->
      <div class="fixed-bottom text-right px-3" id="goto-arrow">
        <a href="{% url 'registration:login' %}#about-us" class="lead text-white" style="font-size: 2rem">
          <i class="ic ic-arrow-down"></i>
        </a>
      </div>
    </div>

    <div class="row no-gutters">
      <div class="col-12">
        {% include 'core/includes/about_us.html' %}
      </div>
    </div>


  </main>
{% endblock body_content %}
