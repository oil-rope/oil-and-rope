{% load i18n %}
{% load static %}

<div class="card h-100">
  <div class="card-body">
    <h5 class="card-title text-center">{{ race.name }}</h5>
    <hr class="w-80">
    <div class="row">
      {% if race.image %}
      <div class="col">
        <picture> 
          <img height="250px" load="lazy" src="{{ race.image.url }}" alt="Race image">
        </picture>
      </div>
      {%endif %}
      <div class="col">
        <p class="card-text text-justify">
          {% if race.description %}
            {{ race.description|truncatechars_html:250|safe }}
          {% else %}
            {% translate "no description provided..."|capfirst %}
          {% endif %}
        </p>
      </div>
    </div>
  </div>
  <div class="card-footer">
    <div class="container">
      <div class="row">
        <a href="{% url 'roleplay:race:detail' race.pk %}" class="btn btn-secondary col me-1">
          <i class="ic ic-world"></i>
          {% translate "view details"|capfirst %}
        </a>
        {% if user in race.users.all %}
        <div class="btn-group col-1 dropend align-self-end ms-auto">
          <button
            type="button"
            class="btn"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <i class="ic ic-dots-horizontal-triple"></i>
          </button>
          <div class="dropdown-menu" aria-labelledby="race_{{ race.pk }}_actions">
              <a href="{% url 'roleplay:race:edit' race.pk %}" class="dropdown-item">
                <i class="ic ic-edit"></i>
                {% translate "edit"|capfirst %}
              </a>
              <div class="dropdown-divider"></div>
              <a href="{% url 'roleplay:race:delete' race.pk %}" class="dropdown-item">
                <span class="ic-trash text-danger"></span>
                {% translate "delete"|capfirst %} {% translate "race" %}
              </a>
          </div>
        </div>
        {% endif %}

      </div>
    </div>
  </div>
</div>